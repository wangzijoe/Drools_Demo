<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Drools Expert User Guide</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL-NS Stylesheets V1.74.0"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link rel="home" href="index.html" title="Drools Expert User Guide"/><link rel="next" href="pr01.html" title=""/></head><body><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"/><li class="next"><a accesskey="n" href="pr01.html"><strong>Next</strong></a></li></ul><div class="book" lang="en-US"><div class="titlepage"><div><div><h1 class="title"><a id="d0e1"/>Drools Expert User Guide</h1></div><div><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="authorgroup"><div class="authors">by <span xmlns="http://www.w3.org/1999/xhtml" class="orgname"><a class="link" href="http://www.jboss.org/drools/team.html" target="">The JBoss Drools team</a></span></div><div class="editors"/><div class="others"/></div></div><div><p class="releaseinfo">Version 5.5.0.Final</p></div></div><hr/></div><div class="toc"><dl><dt><span class="preface"><a href="pr01.html"/></span></dt><dt><span class="chapter"><a href="ch01.html">1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="ch01.html#d0e26">1.1. Artificial Intelligence</a></span></dt><dd><dl><dt><span class="section"><a href="ch01.html#d0e29">1.1.1. A Little History</a></span></dt><dt><span class="section"><a href="ch01.html#d0e117">1.1.2. Knowledge Representation and Reasoning</a></span></dt><dt><span class="section"><a href="ch01.html#d0e128">1.1.3. Rule Engines and Production Rule Systems (PRS)</a></span></dt><dt><span class="section"><a href="ch01.html#d0e207">1.1.4. Hybrid Reasoning Systems (HRS)</a></span></dt><dt><span class="section"><a href="ch01.html#d0e240">1.1.5. Expert Systems</a></span></dt><dt><span class="section"><a href="ch01.html#d0e264">1.1.6. Recommended Reading</a></span></dt></dl></dd><dt><span class="section"><a href="ch01.html#d0e384">1.2. Why use a Rule Engine?</a></span></dt><dd><dl><dt><span class="section"><a href="ch01.html#d0e405">1.2.1. Advantages of a Rule Engine</a></span></dt><dt><span class="section"><a href="ch01.html#d0e448">1.2.2. When should you use a Rule Engine?</a></span></dt><dt><span class="section"><a href="ch01.html#d0e485">1.2.3. When not to use a Rule Engine</a></span></dt><dt><span class="section"><a href="ch01.html#d0e497">1.2.4. Scripting or Process Engines</a></span></dt><dt><span class="section"><a href="ch01.html#d0e510">1.2.5. Strong and Loose Coupling</a></span></dt></dl></dd><dt><span class="section"><a href="ch01.html#d0e515">1.3. Rete Algorithm</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch02.html">2. User Guide</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#d0e587">2.1. The Basics</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#d0e590">2.1.1. Stateless Knowledge Session</a></span></dt><dt><span class="section"><a href="ch02.html#d0e737">2.1.2. Stateful Knowledge Session</a></span></dt><dt><span class="section"><a href="ch02.html#d0e909">2.1.3. Methods versus Rules</a></span></dt><dt><span class="section"><a href="ch02.html#d0e941">2.1.4. Cross Products</a></span></dt></dl></dd><dt><span class="section"><a href="ch02.html#d0e966">2.2. Inference</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#d0e969">2.2.1. Buss Pass Example</a></span></dt></dl></dd><dt><span class="section"><a href="ch02.html#d0e1037">2.3. Truth Maintenance with  Logical Objects</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#d0e1044">2.3.1. Overview</a></span></dt></dl></dd><dt><span class="section"><a href="ch02.html#d0e1157">2.4. Decision Tables in Spreadsheets</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#d0e1169">2.4.1. When to Use Decision Tables</a></span></dt><dt><span class="section"><a href="ch02.html#d0e1187">2.4.2. Overview</a></span></dt><dt><span class="section"><a href="ch02.html#d0e1225">2.4.3. How Decision Tables Work</a></span></dt><dt><span class="section"><a href="ch02.html#d0e1309">2.4.4. Spreadsheet Syntax</a></span></dt><dt><span class="section"><a href="ch02.html#d0e1821">2.4.5. Creating and integrating Spreadsheet based Decision Tables</a></span></dt><dt><span class="section"><a href="ch02.html#d0e1840">2.4.6. Managing Business Rules in Decision Tables</a></span></dt><dt><span class="section"><a href="ch02.html#d0e1885">2.4.7. Rule Templates</a></span></dt></dl></dd><dt><span class="section"><a href="ch02.html#d0e1972">2.5. Templates</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#d0e1985">2.5.1. The Rule Template File</a></span></dt><dt><span class="section"><a href="ch02.html#d0e2081">2.5.2. Expanding a Template</a></span></dt><dt><span class="section"><a href="ch02.html#d0e2137">2.5.3. Example</a></span></dt></dl></dd><dt><span class="section"><a href="ch02.html#d0e2208">2.6. More on building and deploying</a></span></dt><dd><dl><dt><span class="section"><a href="ch02.html#d0e2211">2.6.1. Knowledge Base by Configuration Using Changesets</a></span></dt><dt><span class="section"><a href="ch02.html#d0e2239">2.6.2. Knowledge Agent</a></span></dt></dl></dd><dt><span class="section"><a href="ch02.html#d0e2310">2.7. Logging</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch03.html">3. API Reference</a></span></dt><dd><dl><dt><span class="section"><a href="ch03.html#d0e2354">3.1. Building</a></span></dt><dd><dl><dt><span class="section"><a href="ch03.html#d0e2364">3.1.1. Building Using Code</a></span></dt><dt><span class="section"><a href="ch03.html#d0e2477">3.1.2. Building Using Configuration and the ChangeSet XML</a></span></dt><dt><span class="section"><a href="ch03.html#changingTheDefaultBuildResultSeverity">3.1.3. Changing the Default Build Result Severity</a></span></dt></dl></dd><dt><span class="section"><a href="ch03.html#d0e2554">3.2. Deploying</a></span></dt><dd><dl><dt><span class="section"><a href="ch03.html#d0e2557">3.2.1. KnowledgePackage and Knowledge Definitions</a></span></dt><dt><span class="section"><a href="ch03.html#d0e2570">3.2.2. KnowledgeBase</a></span></dt><dt><span class="section"><a href="ch03.html#d0e2620">3.2.3. In-Process Building and Deployment</a></span></dt><dt><span class="section"><a href="ch03.html#d0e2635">3.2.4. Building and Deployment in Separate Processes</a></span></dt><dt><span class="section"><a href="ch03.html#d0e2674">3.2.5. StatefulknowledgeSessions and KnowledgeBase Modifications</a></span></dt><dt><span class="section"><a href="ch03.html#d0e2688">3.2.6. KnowledgeAgent</a></span></dt></dl></dd><dt><span class="section"><a href="ch03.html#d0e2813">3.3. Running</a></span></dt><dd><dl><dt><span class="section"><a href="ch03.html#d0e2817">3.3.1. KnowledgeBase</a></span></dt><dt><span class="section"><a href="ch03.html#d0e2836">3.3.2. StatefulKnowledgeSession</a></span></dt><dt><span class="section"><a href="ch03.html#d0e2858">3.3.3. KnowledgeRuntime</a></span></dt><dt><span class="section"><a href="ch03.html#d0e3150">3.3.4. Agenda</a></span></dt><dt><span class="section"><a href="ch03.html#d0e3255">3.3.5. Event Model</a></span></dt><dt><span class="section"><a href="ch03.html#d0e3370">3.3.6. KnowledgeRuntimeLogger</a></span></dt><dt><span class="section"><a href="ch03.html#d0e3386">3.3.7. StatelessKnowledgeSession</a></span></dt><dt><span class="section"><a href="ch03.html#d0e3581">3.3.8. Commands and the CommandExecutor</a></span></dt><dt><span class="section"><a href="ch03.html#d0e3879">3.3.9. Marshalling</a></span></dt><dt><span class="section"><a href="ch03.html#d0e3961">3.3.10. Persistence and Transactions</a></span></dt><dt><span class="section"><a href="ch03.html#d0e4005">3.3.11. Drools Clips</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch04.html">4. Rule Language Reference</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#d0e4036">4.1. Overview</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#d0e4044">4.1.1. A rule file</a></span></dt><dt><span class="section"><a href="ch04.html#d0e4077">4.1.2. What makes a rule</a></span></dt></dl></dd><dt><span class="section"><a href="ch04.html#d0e4113">4.2. Keywords</a></span></dt><dt><span class="section"><a href="ch04.html#d0e4308">4.3. Comments</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#d0e4313">4.3.1. Single line comment</a></span></dt><dt><span class="section"><a href="ch04.html#d0e4323">4.3.2. Multi-line comment</a></span></dt></dl></dd><dt><span class="section"><a href="ch04.html#d0e4336">4.4. Error Messages</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#d0e4341">4.4.1. Message format</a></span></dt><dt><span class="section"><a href="ch04.html#d0e4372">4.4.2. Error Messages Description</a></span></dt><dt><span class="section"><a href="ch04.html#d0e4527">4.4.3. Other Messages</a></span></dt></dl></dd><dt><span class="section"><a href="ch04.html#d0e4532">4.5. Package</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#d0e4555">4.5.1. import</a></span></dt><dt><span class="section"><a href="ch04.html#d0e4569">4.5.2. global</a></span></dt></dl></dd><dt><span class="section"><a href="ch04.html#d0e4612">4.6. Function</a></span></dt><dt><span class="section"><a href="ch04.html#d0e4646">4.7. Type Declaration</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#d0e4674">4.7.1. Declaring New Types</a></span></dt><dt><span class="section"><a href="ch04.html#d0e4780">4.7.2. Declaring Metadata</a></span></dt><dt><span class="section"><a href="ch04.html#d0e4950">4.7.3. Declaring Metadata for Existing Types</a></span></dt><dt><span class="section"><a href="ch04.html#d0e4993">4.7.4. Parametrized constructors for declared types</a></span></dt><dt><span class="section"><a href="ch04.html#d0e5006">4.7.5. Non Typesafe Classes</a></span></dt><dt><span class="section"><a href="ch04.html#d0e5011">4.7.6. Accessing Declared Types from the Application Code</a></span></dt><dt><span class="section"><a href="ch04.html#d0e5060">4.7.7. Type Declaration 'extends'</a></span></dt><dt><span class="section"><a href="ch04.html#d0e5069">4.7.8. Traits</a></span></dt></dl></dd><dt><span class="section"><a href="ch04.html#d0e5108">4.8. Rule</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#d0e5150">4.8.1. Rule Attributes</a></span></dt><dt><span class="section"><a href="ch04.html#d0e5310">4.8.2. Timers and Calendars</a></span></dt><dt><span class="section"><a href="ch04.html#d0e5351">4.8.3. Left Hand Side (when) syntax</a></span></dt><dt><span class="section"><a href="ch04.html#d0e7386">4.8.4. The Right Hand Side (then)</a></span></dt><dt><span class="section"><a href="ch04.html#d0e7627">4.8.5. A Note on Auto-boxing and Primitive Types</a></span></dt></dl></dd><dt><span class="section"><a href="ch04.html#d0e7632">4.9. Query</a></span></dt><dt><span class="section"><a href="ch04.html#d0e7704">4.10. Domain Specific Languages</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#d0e7714">4.10.1. When to Use a DSL</a></span></dt><dt><span class="section"><a href="ch04.html#d0e7721">4.10.2. DSL Basics</a></span></dt><dt><span class="section"><a href="ch04.html#d0e7791">4.10.3. Adding Constraints to Facts</a></span></dt><dt><span class="section"><a href="ch04.html#d0e7836">4.10.4. Developing a DSL</a></span></dt><dt><span class="section"><a href="ch04.html#d0e7849">4.10.5. DSL and DSLR Reference</a></span></dt></dl></dd><dt><span class="section"><a href="ch04.html#d0e8052">4.11. XML Rule Language</a></span></dt><dd><dl><dt><span class="section"><a href="ch04.html#d0e8064">4.11.1. Legacy Drools 2.x XML rule format</a></span></dt><dt><span class="section"><a href="ch04.html#d0e8069">4.11.2. When to use XML</a></span></dt><dt><span class="section"><a href="ch04.html#d0e8080">4.11.3. The XML format</a></span></dt><dt><span class="section"><a href="ch04.html#d0e8126">4.11.4. Legacy Drools 2.x XML rule format</a></span></dt><dt><span class="section"><a href="ch04.html#d0e8131">4.11.5. Automatic transforming between formats (XML and DRL)</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="ch05.html">5. The Java Rule Engine API (JSR94)</a></span></dt><dd><dl><dt><span class="section"><a href="ch05.html#d0e8146">5.1. Introduction</a></span></dt><dt><span class="section"><a href="ch05.html#d0e8161">5.2. How To Use</a></span></dt><dd><dl><dt><span class="section"><a href="ch05.html#d0e8166">5.2.1. Building and Registering RuleExecutionSets</a></span></dt><dt><span class="section"><a href="ch05.html#d0e8199">5.2.2. Using Stateful and Stateless RuleSessions</a></span></dt></dl></dd><dt><span class="section"><a href="ch05.html#d0e8234">5.3. References</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch06.html">6. The Rule IDE (Eclipse)</a></span></dt><dd><dl><dt><span class="section"><a href="ch06.html#d0e8298">6.1. Features Outline</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8354">6.2. Drools Runtimes</a></span></dt><dd><dl><dt><span class="section"><a href="ch06.html#d0e8359">6.2.1. Defining a Drools Runtime</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8396">6.2.2. Selecting a runtime for your Drools project</a></span></dt></dl></dd><dt><span class="section"><a href="ch06.html#d0e8411">6.3. Creating a Rule Project</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8434">6.4. Creating a New Rule and Wizards</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8455">6.5. Textual Rule Editor</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8478">6.6. Drools Views</a></span></dt><dd><dl><dt><span class="section"><a href="ch06.html#d0e8495">6.6.1. The Working Memory View</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8509">6.6.2. The Agenda View</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8523">6.6.3. The Global Data View</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8537">6.6.4. The Audit View</a></span></dt></dl></dd><dt><span class="section"><a href="ch06.html#d0e8621">6.7. Domain Specific Languages</a></span></dt><dd><dl><dt><span class="section"><a href="ch06.html#d0e8628">6.7.1. Editing languages</a></span></dt></dl></dd><dt><span class="section"><a href="ch06.html#d0e8651">6.8. The Rete View</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8667">6.9. Large DRL Files</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8683">6.10. Debugging Rules</a></span></dt><dd><dl><dt><span class="section"><a href="ch06.html#d0e8694">6.10.1. Creating Breakpoints</a></span></dt><dt><span class="section"><a href="ch06.html#d0e8708">6.10.2. Debugging Rules</a></span></dt></dl></dd><dt><span class="section"><a href="ch06.html#d0e8746">6.11. Preferences</a></span></dt></dl></dd><dt><span class="chapter"><a href="ch07.html">7. Examples</a></span></dt><dd><dl><dt><span class="section"><a href="ch07.html#d0e8775">7.1. Getting the Examples</a></span></dt><dt><span class="section"><a href="ch07.html#d0e8782">7.2. Hello World</a></span></dt><dt><span class="section"><a href="ch07.html#d0e9050">7.3. State Example</a></span></dt><dd><dl><dt><span class="section"><a href="ch07.html#d0e9055">7.3.1. Understanding the State Example</a></span></dt></dl></dd><dt><span class="section"><a href="ch07.html#d0e9336">7.4. Fibonacci Example</a></span></dt><dt><span class="section"><a href="ch07.html#d0e9542">7.5. Banking Tutorial</a></span></dt><dt><span class="section"><a href="ch07.html#d0e9869">7.6. Pricing Rule Decision Table Example</a></span></dt><dd><dl><dt><span class="section"><a href="ch07.html#d0e9893">7.6.1. Executing the example</a></span></dt><dt><span class="section"><a href="ch07.html#d0e9935">7.6.2. The decision table</a></span></dt></dl></dd><dt><span class="section"><a href="ch07.html#d0e10000">7.7. Pet Store Example</a></span></dt><dt><span class="section"><a href="ch07.html#d0e10559">7.8. Honest Politician Example</a></span></dt><dt><span class="section"><a href="ch07.html#d0e10688">7.9. Sudoku Example</a></span></dt><dd><dl><dt><span class="section"><a href="ch07.html#d0e10709">7.9.1. Sudoku Overview</a></span></dt><dt><span class="section"><a href="ch07.html#d0e10723">7.9.2. Running the Example</a></span></dt><dt><span class="section"><a href="ch07.html#d0e10790">7.9.3. Java Source and Rules Overview</a></span></dt><dt><span class="section"><a href="ch07.html#d0e10920">7.9.4. Sudoku Validator Rules (validate.drl)</a></span></dt><dt><span class="section"><a href="ch07.html#d0e10929">7.9.5. Sudoku Solving Rules (sudoku.drl)</a></span></dt></dl></dd><dt><span class="section"><a href="ch07.html#d0e10965">7.10. Number Guess</a></span></dt><dt><span class="section"><a href="ch07.html#d0e11256">7.11. Conway's Game Of Life</a></span></dt><dt><span class="section"><a href="ch07.html#d0e11405">7.12. Pong</a></span></dt><dt><span class="section"><a href="ch07.html#d0e11423">7.13. Adventures with Drools</a></span></dt><dt><span class="section"><a href="ch07.html#d0e11448">7.14. Wumpus World</a></span></dt><dt><span class="section"><a href="ch07.html#d0e11495">7.15. Miss Manners and Benchmarking</a></span></dt><dd><dl><dt><span class="section"><a href="ch07.html#d0e11517">7.15.1. Introduction</a></span></dt><dt><span class="section"><a href="ch07.html#d0e11603">7.15.2. In depth Discussion</a></span></dt><dt><span class="section"><a href="ch07.html#d0e11813">7.15.3. Output Summary</a></span></dt></dl></dd></dl></dd></dl></div></div><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"/><li class="next"><a accesskey="n" href="pr01.html"><strong>Next</strong></a></li></ul></body></html>